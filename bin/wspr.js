#!/usr/bin/env node
!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t,n){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},function(e,t){e.exports=require("net")},function(e,t,n){"use strict";const r=n(20),o=n(3),i=n(25),{kStatusCode:s}=n(0),a=Buffer.from([0,0,255,255]),c=Symbol("permessage-deflate"),u=Symbol("total-length"),l=Symbol("callback"),f=Symbol("buffers"),h=Symbol("error");let d;function p(e){this[f].push(e),this[u]+=e.length}function _(e){this[u]+=e.length,this[c]._maxPayload<1||this[u]<=this[c]._maxPayload?this[f].push(e):(this[h]=new RangeError("Max payload size exceeded"),this[h].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[h][s]=1009,this.removeListener("data",_),this.reset())}function y(e){this[c]._inflate=null,e[s]=1007,this[l](e)}e.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!d){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;d=new i(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[l];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,n=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n})}),e}decompress(e,t,n){d.add(r=>{this._decompress(e,t,(e,t)=>{r(),n(e,t)})})}compress(e,t,n){d.add(r=>{this._compress(e,t,(e,t)=>{r(),n(e,t)})})}_decompress(e,t,n){const i=this._isServer?"client":"server";if(!this._inflate){const e=i+"_max_window_bits",t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=r.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[c]=this,this._inflate[u]=0,this._inflate[f]=[],this._inflate.on("error",y),this._inflate.on("data",_)}this._inflate[l]=n,this._inflate.write(e),t&&this._inflate.write(a),this._inflate.flush(()=>{const e=this._inflate[h];if(e)return this._inflate.close(),this._inflate=null,void n(e);const r=o.concat(this._inflate[f],this._inflate[u]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[u]=0,this._inflate[f]=[],t&&this.params[i+"_no_context_takeover"]&&this._inflate.reset()),n(null,r)})}_compress(e,t,n){const i=this._isServer?"server":"client";if(!this._deflate){const e=i+"_max_window_bits",t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=r.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[u]=0,this._deflate[f]=[],this._deflate.on("data",p)}this._deflate[l]=n,this._deflate.write(e),this._deflate.flush(r.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=o.concat(this._deflate[f],this._deflate[u]);t&&(e=e.slice(0,e.length-4)),this._deflate[l]=null,this._deflate[u]=0,this._deflate[f]=[],t&&this.params[i+"_no_context_takeover"]&&this._deflate.reset(),n(null,e)})}}},function(e,t,n){"use strict";const{EMPTY_BUFFER:r}=n(0);function o(e,t){if(0===e.length)return r;if(1===e.length)return e[0];const n=Buffer.allocUnsafe(t);let o=0;for(let t=0;t<e.length;t++){const r=e[t];n.set(r,o),o+=r.length}return o<t?n.slice(0,o):n}function i(e,t,n,r,o){for(let i=0;i<o;i++)n[r+i]=e[i]^t[3&i]}function s(e,t){for(let n=0;n<e.length;n++)e[n]^=t[3&n]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=n(21);e.exports={concat:o,mask(e,n,r,o,s){s<48?i(e,n,r,o,s):t.mask(e,n,r,o,s)},toArrayBuffer:a,toBuffer:c,unmask(e,n){e.length<32?s(e,n):t.unmask(e,n)}}}catch(t){e.exports={concat:o,mask:i,toArrayBuffer:a,toBuffer:c,unmask:s}}},function(e,t,n){"use strict";const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function o(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999}function i(e){const t=e.length;let n=0;for(;n<t;)if(0==(128&e[n]))n++;else if(192==(224&e[n])){if(n+1===t||128!=(192&e[n+1])||192==(254&e[n]))return!1;n+=2}else if(224==(240&e[n])){if(n+2>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||224===e[n]&&128==(224&e[n+1])||237===e[n]&&160==(224&e[n+1]))return!1;n+=3}else{if(240!=(248&e[n]))return!1;if(n+3>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||128!=(192&e[n+3])||240===e[n]&&128==(240&e[n+1])||244===e[n]&&e[n+1]>143||e[n]>244)return!1;n+=4}return!0}try{const t=n(26);e.exports={isValidStatusCode:o,isValidUTF8:e=>e.length<150?i(e):t(e),tokenChars:r}}catch(t){e.exports={isValidStatusCode:o,isValidUTF8:i,tokenChars:r}}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("tls")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";const r=n(12),o=n(6),i=n(5),s=n(1),a=n(7),{randomBytes:c,createHash:u}=n(8),{Readable:l}=n(9),{URL:f}=n(19),h=n(2),d=n(14),p=n(15),{BINARY_TYPES:_,EMPTY_BUFFER:y,GUID:v,kForOnEventAttribute:m,kListener:g,kStatusCode:b,kWebSocket:S,NOOP:w}=n(0),{EventTarget:{addEventListener:x,removeEventListener:E}}=n(28),{format:k,parse:O}=n(16),{toBuffer:L}=n(3),T=["CONNECTING","OPEN","CLOSING","CLOSED"],C=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,N=[8,13];class j extends r{constructor(e,t,n){super(),this._binaryType=_[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=y,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=j.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(n=t,t=[]):t=[t]),function e(t,n,r,s){const a={protocolVersion:N[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!N.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} (supported versions: ${N.join(", ")})`);let l;if(n instanceof f)l=n,t._url=n.href;else{try{l=new f(n)}catch(e){throw new SyntaxError("Invalid URL: "+n)}t._url=n}const d="wss:"===l.protocol,p="ws+unix:"===l.protocol;let _;"ws:"===l.protocol||d||p?p&&!l.pathname?_="The URL's pathname is empty":l.hash&&(_="The URL contains a fragment identifier"):_='The URL\'s protocol must be one of "ws:", "wss:", or "ws+unix:"';if(_){const e=new SyntaxError(_);if(0===t._redirects)throw e;return void P(t,e)}const y=d?443:80,m=c(16).toString("base64"),g=d?o.get:i.get,b=new Set;let S;a.createConnection=d?R:A,a.defaultPort=a.defaultPort||y,a.port=l.port||y,a.host=l.hostname.startsWith("[")?l.hostname.slice(1,-1):l.hostname,a.headers={"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":m,Connection:"Upgrade",Upgrade:"websocket",...a.headers},a.path=l.pathname+l.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(S=new h(!0!==a.perMessageDeflate?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=k({[h.extensionName]:S.offer()}));if(r.length){for(const e of r){if("string"!=typeof e||!C.test(e)||b.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");b.add(e)}a.headers["Sec-WebSocket-Protocol"]=r.join(",")}a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin);(l.username||l.password)&&(a.auth=`${l.username}:${l.password}`);if(p){const e=a.path.split(":");a.socketPath=e[0],a.path=e[1]}let w=t._req=g(a);a.timeout&&w.on("timeout",()=>{I(t,w,"Opening handshake has timed out")});w.on("error",e=>{null===w||w.aborted||(w=t._req=null,P(t,e))}),w.on("response",o=>{const i=o.headers.location,c=o.statusCode;if(i&&a.followRedirects&&c>=300&&c<400){if(++t._redirects>a.maxRedirects)return void I(t,w,"Maximum redirects exceeded");let o;w.abort();try{o=new f(i,n)}catch(e){const n=new SyntaxError("Invalid URL: "+i);return void P(t,n)}e(t,o,r,s)}else t.emit("unexpected-response",w,o)||I(t,w,"Unexpected server response: "+o.statusCode)}),w.on("upgrade",(e,n,r)=>{if(t.emit("upgrade",e),t.readyState!==j.CONNECTING)return;w=t._req=null;const o=u("sha1").update(m+v).digest("base64");if(e.headers["sec-websocket-accept"]!==o)return void I(t,n,"Invalid Sec-WebSocket-Accept header");const i=e.headers["sec-websocket-protocol"];let s;if(void 0!==i?b.size?b.has(i)||(s="Server sent an invalid subprotocol"):s="Server sent a subprotocol but none was requested":b.size&&(s="Server sent no subprotocol"),s)return void I(t,n,s);i&&(t._protocol=i);const c=e.headers["sec-websocket-extensions"];if(void 0!==c){if(!S){return void I(t,n,"Server sent a Sec-WebSocket-Extensions header but no extension was requested")}let e;try{e=O(c)}catch(e){return void I(t,n,"Invalid Sec-WebSocket-Extensions header")}const r=Object.keys(e);if(1!==r.length||r[0]!==h.extensionName){return void I(t,n,"Server indicated an extension that was not requested")}try{S.accept(e[h.extensionName])}catch(e){return void I(t,n,"Invalid Sec-WebSocket-Extensions header")}t._extensions[h.extensionName]=S}t.setSocket(n,r,{maxPayload:a.maxPayload,skipUTF8Validation:a.skipUTF8Validation})})}(this,e,t,n)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){_.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,n){const r=new d({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new p(e,this._extensions),this._receiver=r,this._socket=e,r[S]=this,e[S]=this,r.on("conclude",B),r.on("drain",F),r.on("error",D),r.on("message",M),r.on("ping",V),r.on("pong",G),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",$),e.on("data",z),e.on("end",H),e.on("error",Y),this._readyState=j.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=j.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[h.extensionName]&&this._extensions[h.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=j.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==j.CLOSED){if(this.readyState===j.CONNECTING){const e="WebSocket was closed before the connection was established";return I(this,this._req,e)}this.readyState!==j.CLOSING?(this._readyState=j.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end()}}pause(){this.readyState!==j.CONNECTING&&this.readyState!==j.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,n){if(this.readyState===j.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===j.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||y,t,n)):U(this,e,n)}pong(e,t,n){if(this.readyState===j.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===j.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||y,t,n)):U(this,e,n)}resume(){this.readyState!==j.CONNECTING&&this.readyState!==j.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,n){if(this.readyState===j.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(n=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==j.OPEN)return void U(this,e,n);const r={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[h.extensionName]||(r.compress=!1),this._sender.send(e||y,r,n)}terminate(){if(this.readyState!==j.CLOSED){if(this.readyState===j.CONNECTING){const e="WebSocket was closed before the connection was established";return I(this,this._req,e)}this._socket&&(this._readyState=j.CLOSING,this._socket.destroy())}}}function P(e,t){e._readyState=j.CLOSING,e.emit("error",t),e.emitClose()}function A(e){return e.path=e.socketPath,s.connect(e)}function R(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=s.isIP(e.host)?"":e.host),a.connect(e)}function I(e,t,n){e._readyState=j.CLOSING;const r=new Error(n);Error.captureStackTrace(r,I),t.setHeader?(t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),t.once("abort",e.emitClose.bind(e)),e.emit("error",r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function U(e,t,n){if(t){const n=L(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}if(n){n(new Error(`WebSocket is not open: readyState ${e.readyState} (${T[e.readyState]})`))}}function B(e,t){const n=this[S];n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,void 0!==n._socket[S]&&(n._socket.removeListener("data",z),process.nextTick(q,n._socket),1005===e?n.close():n.close(e,t))}function F(){const e=this[S];e.isPaused||e._socket.resume()}function D(e){const t=this[S];void 0!==t._socket[S]&&(t._socket.removeListener("data",z),process.nextTick(q,t._socket),t.close(e[b])),t.emit("error",e)}function W(){this[S].emitClose()}function M(e,t){this[S].emit("message",e,t)}function V(e){const t=this[S];t.pong(e,!t._isServer,w),t.emit("ping",e)}function G(e){this[S].emit("pong",e)}function q(e){e.resume()}function $(){const e=this[S];let t;this.removeListener("close",$),this.removeListener("data",z),this.removeListener("end",H),e._readyState=j.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[S]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",W),e._receiver.on("finish",W))}function z(e){this[S]._receiver.write(e)||this.pause()}function H(){const e=this[S];e._readyState=j.CLOSING,e._receiver.end(),this.end()}function Y(){const e=this[S];this.removeListener("error",Y),this.on("error",w),e&&(e._readyState=j.CLOSING,this.destroy())}Object.defineProperty(j,"CONNECTING",{enumerable:!0,value:T.indexOf("CONNECTING")}),Object.defineProperty(j.prototype,"CONNECTING",{enumerable:!0,value:T.indexOf("CONNECTING")}),Object.defineProperty(j,"OPEN",{enumerable:!0,value:T.indexOf("OPEN")}),Object.defineProperty(j.prototype,"OPEN",{enumerable:!0,value:T.indexOf("OPEN")}),Object.defineProperty(j,"CLOSING",{enumerable:!0,value:T.indexOf("CLOSING")}),Object.defineProperty(j.prototype,"CLOSING",{enumerable:!0,value:T.indexOf("CLOSING")}),Object.defineProperty(j,"CLOSED",{enumerable:!0,value:T.indexOf("CLOSED")}),Object.defineProperty(j.prototype,"CLOSED",{enumerable:!0,value:T.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(j.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(j.prototype,"on"+e,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[m])return t[g];return null},set(t){for(const t of this.listeners(e))if(t[m]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[m]:!0})}})}),j.prototype.addEventListener=x,j.prototype.removeEventListener=E,e.exports=j},function(e,t){e.exports=require("events")},function(e,t,n){var r=n(10),o=n(22),i=n(23),s=require,a=process.versions.modules,c=!(!process.versions||!process.versions.electron)||!!process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":"node",u=i.arch(),l=i.platform();function f(e){return s(f.path(e))}function h(e,t){try{var n=r.readdirSync(e).filter(t);return n[0]&&o.join(e,n[0])}catch(e){return null}}function d(e){return e===c+"-napi.node"}function p(e){return"node-napi.node"===e}function _(e){var t=e.split("-");return t[0]===c&&t[1]===a+".node"}function y(e){return/\.node$/.test(e)}e.exports=f,f.path=function(e){e=o.resolve(e||".");try{var t=s(o.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}var n=h(o.join(e,"build/Release"),y);if(n)return n;var r=h(o.join(e,"build/Debug"),y);if(r)return r;var i=h(o.join(e,"prebuilds/"+l+"-"+u),_);if(i)return i;var f=h(o.join(e,"prebuilds/"+l+"-"+u),d);if(f)return f;var v=h(o.join(e,"prebuilds/"+l+"-"+u),p);if(v)return v;throw new Error("No native build was found for runtime="+c+" abi="+a+" platform="+l+" arch="+u)}},function(e,t,n){"use strict";const{Writable:r}=n(9),o=n(2),{BINARY_TYPES:i,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=n(0),{concat:u,toArrayBuffer:l,unmask:f}=n(3),{isValidStatusCode:h,isValidUTF8:d}=n(4);function p(e,t,n,r,o){const i=new e(n?"Invalid WebSocket frame: "+t:t);return Error.captureStackTrace(i,p),i.code=o,i[a]=r,i}e.exports=class extends r{constructor(e={}){super(),this._binaryType=e.binaryType||i[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,n){if(8===this._opcode&&0==this._state)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const n=this._buffers[0],r=t.length-e;e>=n.length?t.set(this._buffers.shift(),r):(t.set(new Uint8Array(n.buffer,n.byteOffset,e),r),this._buffers[0]=n.slice(e)),e-=n.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,p(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");const t=64==(64&e[0]);if(t&&!this._extensions[o.extensionName])return this._loop=!1,p(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,p(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,p(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,p(RangeError,"invalid opcode "+this._opcode,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,p(RangeError,"invalid opcode "+this._opcode,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,p(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,p(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,p(RangeError,"invalid payload length "+this._payloadLength,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,p(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,p(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,p(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,p(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&f(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[o.extensionName].decompress(e,this._fin,(e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(p(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(n)}const r=this.dataMessage();if(r)return t(r);this.startLoop(t)})}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?u(t,e):"arraybuffer"===this._binaryType?l(u(t,e)):t,this.emit("message",n,!0)}else{const n=u(t,e);if(!this._skipUTF8Validation&&!d(n))return this._loop=!1,p(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",n,!1)}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,s),this.end();else{if(1===e.length)return p(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{const t=e.readUInt16BE(0);if(!h(t))return p(RangeError,"invalid status code "+t,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");const n=e.slice(2);if(!this._skipUTF8Validation&&!d(n))return p(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,n),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},function(e,t,n){"use strict";n(1),n(7);const{randomFillSync:r}=n(8),o=n(2),{EMPTY_BUFFER:i}=n(0),{isValidStatusCode:s}=n(4),{mask:a,toBuffer:c}=n(3),u=Buffer.alloc(4);class l{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const n=t.mask&&t.readOnly;let o=t.mask?6:2,i=e.length;e.length>=65536?(o+=8,i=127):e.length>125&&(o+=2,i=126);const s=Buffer.allocUnsafe(n?e.length+o:o);return s[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(s[0]|=64),s[1]=i,126===i?s.writeUInt16BE(e.length,2):127===i&&(s[2]=s[3]=0,s.writeUIntBE(e.length,4,6)),t.mask?(r(u,0,4),s[1]|=128,s[o-4]=u[0],s[o-3]=u[1],s[o-2]=u[2],s[o-1]=u[3],n?(a(e,u,s,o,e.length),[s]):(a(e,u,e,0,e.length),[s,e])):[s,e]}close(e,t,n,r){let o;if(void 0===e)o=i;else{if("number"!=typeof e||!s(e))throw new TypeError("First argument must be a valid error code number");if(void 0!==t&&t.length){const n=Buffer.byteLength(t);if(n>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+n),o.writeUInt16BE(e,0),"string"==typeof t?o.write(t,2):o.set(t,2)}else o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0)}this._deflating?this.enqueue([this.doClose,o,n,r]):this.doClose(o,n,r)}doClose(e,t,n){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),n)}ping(e,t,n){const r=c(e);if(r.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,r,t,c.readOnly,n]):this.doPing(r,t,c.readOnly,n)}doPing(e,t,n,r){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:n}),r)}pong(e,t,n){const r=c(e);if(r.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,r,t,c.readOnly,n]):this.doPong(r,t,c.readOnly,n)}doPong(e,t,n,r){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:n}),r)}send(e,t,n){const r=c(e),i=this._extensions[o.extensionName];let s=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(a=r.length>=i._threshold),this._compress=a):(a=!1,s=0),t.fin&&(this._firstFragment=!0),i){const e={fin:t.fin,rsv1:a,opcode:s,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,r,this._compress,e,n]):this.dispatch(r,this._compress,e,n)}else this.sendFrame(l.frame(r,{fin:t.fin,rsv1:!1,opcode:s,mask:t.mask,readOnly:c.readOnly}),n)}dispatch(e,t,n,r){if(!t)return void this.sendFrame(l.frame(e,n),r);const i=this._extensions[o.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,i.compress(e,n.fin,(t,o)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof r&&r(e);for(let t=0;t<this._queue.length;t++){const n=this._queue[t][4];"function"==typeof n&&n(e)}}else this._bufferedBytes-=e.length,this._deflating=!1,n.readOnly=!1,this.sendFrame(l.frame(o,n),r),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=l},function(e,t,n){"use strict";const{tokenChars:r}=n(4);function o(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}e.exports={format:function(e){return Object.keys(e).map(t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>[t].concat(Object.keys(e).map(t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t=Object.create(null);let n,i,s=Object.create(null),a=!1,c=!1,u=!1,l=-1,f=-1,h=-1,d=0;for(;d<e.length;d++)if(f=e.charCodeAt(d),void 0===n)if(-1===h&&1===r[f])-1===l&&(l=d);else if(0===d||32!==f&&9!==f){if(59!==f&&44!==f)throw new SyntaxError("Unexpected character at index "+d);{if(-1===l)throw new SyntaxError("Unexpected character at index "+d);-1===h&&(h=d);const r=e.slice(l,h);44===f?(o(t,r,s),s=Object.create(null)):n=r,l=h=-1}}else-1===h&&-1!==l&&(h=d);else if(void 0===i)if(-1===h&&1===r[f])-1===l&&(l=d);else if(32===f||9===f)-1===h&&-1!==l&&(h=d);else if(59===f||44===f){if(-1===l)throw new SyntaxError("Unexpected character at index "+d);-1===h&&(h=d),o(s,e.slice(l,h),!0),44===f&&(o(t,n,s),s=Object.create(null),n=void 0),l=h=-1}else{if(61!==f||-1===l||-1!==h)throw new SyntaxError("Unexpected character at index "+d);i=e.slice(l,d),l=h=-1}else if(c){if(1!==r[f])throw new SyntaxError("Unexpected character at index "+d);-1===l?l=d:a||(a=!0),c=!1}else if(u)if(1===r[f])-1===l&&(l=d);else if(34===f&&-1!==l)u=!1,h=d;else{if(92!==f)throw new SyntaxError("Unexpected character at index "+d);c=!0}else if(34===f&&61===e.charCodeAt(d-1))u=!0;else if(-1===h&&1===r[f])-1===l&&(l=d);else if(-1===l||32!==f&&9!==f){if(59!==f&&44!==f)throw new SyntaxError("Unexpected character at index "+d);{if(-1===l)throw new SyntaxError("Unexpected character at index "+d);-1===h&&(h=d);let r=e.slice(l,h);a&&(r=r.replace(/\\/g,""),a=!1),o(s,i,r),44===f&&(o(t,n,s),s=Object.create(null),n=void 0),i=void 0,l=h=-1}}else-1===h&&(h=d);if(-1===l||u||32===f||9===f)throw new SyntaxError("Unexpected end of input");-1===h&&(h=d);const p=e.slice(l,h);return void 0===n?o(t,p,s):(void 0===i?o(s,p,!0):o(s,i,a?p.replace(/\\/g,""):p),o(t,n,s)),t}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(5)),i=n(6),s=n(10),a=n(18),c=r(n(32)),u=process.argv.slice(2);function l(e){e.on("connection",(function(e){console.log("Client connected at: "+Date.now()),e.on("message",(function(e){console.log("Message received from client: ",e.toString())}))}))}!async function(){var e,t,n,r;let f=3005;u.includes("--randomPort")&&(f=Math.floor(995*Math.random())+3005);const h=await c.default.findAPortNotInUse(f,f+1e3);let d;const p=null===(t=null===(e=u.find(e=>e.startsWith("--key=")))||void 0===e?void 0:e.match(/--key=(\S+)/))||void 0===t?void 0:t[1],_=null===(r=null===(n=u.find(e=>e.startsWith("--cert=")))||void 0===n?void 0:n.match(/--cert=(\S+)/))||void 0===r?void 0:r[1];if(p&&_){const e=i.createServer({key:s.readFileSync(p),cert:s.readFileSync(_)});e.listen(h),d=new a.WebSocketServer({server:e}),l(d),console.log("WebSocket server started wss://localhost:"+h)}else d=new a.WebSocketServer({port:h}),l(d),console.log("WebSocket server started ws://localhost:"+h);const y=o.default.createServer(async(e,t)=>{const n={"Content-Type":"text plain"};"OPTIONS"===e.method?(t.writeHead(204,{"Access-Control-Allow-Headers":"*","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, OPTIONS"}),t.end()):"POST"===e.method?(!function(e,t){var n;if(!(null===(n=e.clients)||void 0===n?void 0:n.size))return void console.log("No active clients");console.log(`Broadcasting message to  ${e.clients.size} clients: ${JSON.stringify(t)}`),e.clients.forEach(e=>{e.readyState===a.WebSocket.OPEN&&e.send(t)})}(d,await function(e){let t;const n=new Promise(e=>{t=e});let r="";return e.on("data",e=>{r+=e.toString()}),e.on("end",()=>{t(r)}),n}(e)),t.writeHead(200,n),t.end("Payload has been transmitted")):(t.writeHead(405,n),t.end("Method not allowed. Use POST method to broadcast your message."))}),v=await c.default.findAPortNotInUse(f,f+1e3);y.listen(v),console.log("HTPP proxy server started http://localhost:"+v),process.on("SIGINT",()=>{d.close(),process.exit(0)})}()},function(e,t,n){"use strict";const r=n(11);r.createWebSocketStream=n(29),r.Server=n(30),r.Receiver=n(14),r.Sender=n(15),r.WebSocket=r,r.WebSocketServer=r.Server,e.exports=r},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";(function(t){try{e.exports=n(13)(t)}catch(t){e.exports=n(24)}}).call(this,"/")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";e.exports={mask:(e,t,n,r,o)=>{for(var i=0;i<o;i++)n[r+i]=e[i]^t[3&i]},unmask:(e,t)=>{const n=e.length;for(var r=0;r<n;r++)e[r]^=t[3&r]}}},function(e,t,n){"use strict";const r=Symbol("kDone"),o=Symbol("kRun");e.exports=class{constructor(e){this[r]=()=>{this.pending--,this[o]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[o]()}[o](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[r])}}}},function(e,t,n){"use strict";(function(t){try{e.exports=n(13)(t)}catch(t){e.exports=n(27)}}).call(this,"/")},function(e,t,n){"use strict";e.exports=e=>{for(var t=e.length,n=0;n<t;)if(e[n]<128)n++;else if(192==(224&e[n])){if(n+1===t||128!=(192&e[n+1])||192==(254&e[n]))return!1;n+=2}else if(224==(240&e[n])){if(n+2>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||224===e[n]&&128==(224&e[n+1])||237===e[n]&&160==(224&e[n+1]))return!1;n+=3}else{if(240!=(248&e[n]))return!1;if(n+3>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||128!=(192&e[n+3])||240===e[n]&&128==(240&e[n+1])||244===e[n]&&e[n+1]>143||e[n]>244)return!1;n+=4}return!0}},function(e,t,n){"use strict";const{kForOnEventAttribute:r,kListener:o}=n(0),i=Symbol("kCode"),s=Symbol("kData"),a=Symbol("kError"),c=Symbol("kMessage"),u=Symbol("kReason"),l=Symbol("kTarget"),f=Symbol("kType"),h=Symbol("kWasClean");class d{constructor(e){this[l]=null,this[f]=e}get target(){return this[l]}get type(){return this[f]}}Object.defineProperty(d.prototype,"target",{enumerable:!0}),Object.defineProperty(d.prototype,"type",{enumerable:!0});class p extends d{constructor(e,t={}){super(e),this[i]=void 0===t.code?0:t.code,this[u]=void 0===t.reason?"":t.reason,this[h]=void 0!==t.wasClean&&t.wasClean}get code(){return this[i]}get reason(){return this[u]}get wasClean(){return this[h]}}Object.defineProperty(p.prototype,"code",{enumerable:!0}),Object.defineProperty(p.prototype,"reason",{enumerable:!0}),Object.defineProperty(p.prototype,"wasClean",{enumerable:!0});class _ extends d{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[a]}get message(){return this[c]}}Object.defineProperty(_.prototype,"error",{enumerable:!0}),Object.defineProperty(_.prototype,"message",{enumerable:!0});class y extends d{constructor(e,t={}){super(e),this[s]=void 0===t.data?null:t.data}get data(){return this[s]}}Object.defineProperty(y.prototype,"data",{enumerable:!0});const v={addEventListener(e,t,n={}){let i;if("message"===e)i=function(e,n){const r=new y("message",{data:n?e:e.toString()});r[l]=this,t.call(this,r)};else if("close"===e)i=function(e,n){const r=new p("close",{code:e,reason:n.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});r[l]=this,t.call(this,r)};else if("error"===e)i=function(e){const n=new _("error",{error:e,message:e.message});n[l]=this,t.call(this,n)};else{if("open"!==e)return;i=function(){const e=new d("open");e[l]=this,t.call(this,e)}}i[r]=!!n[r],i[o]=t,n.once?this.once(e,i):this.on(e,i)},removeEventListener(e,t){for(const n of this.listeners(e))if(n[o]===t&&!n[r]){this.removeListener(e,n);break}}};e.exports={CloseEvent:p,ErrorEvent:_,Event:d,EventTarget:v,MessageEvent:y}},function(e,t,n){"use strict";const{Duplex:r}=n(9);function o(e){e.emit("close")}function i(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let n=!0;const a=new r({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t,n){const r=!n&&a._readableState.objectMode?t.toString():t;a.push(r)||e.pause()})),e.once("error",(function(e){a.destroyed||(n=!1,a.destroy(e))})),e.once("close",(function(){a.destroyed||a.push(null)})),a._destroy=function(t,r){if(e.readyState===e.CLOSED)return r(t),void process.nextTick(o,a);let i=!1;e.once("error",(function(e){i=!0,r(e)})),e.once("close",(function(){i||r(t),process.nextTick(o,a)})),n&&e.terminate()},a._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){a._final(t)}))},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,n,r){e.readyState!==e.CONNECTING?e.send(t,r):e.once("open",(function(){a._write(t,n,r)}))},a.on("end",i),a.on("error",s),a}},function(e,t,n){"use strict";const r=n(12),o=n(5),{createHash:i}=(n(6),n(1),n(7),n(8)),s=n(16),a=n(2),c=n(31),u=n(11),{GUID:l,kWebSocket:f}=n(0),h=/^[+/0-9A-Za-z]{22}==$/;function d(e){e._state=2,e.emit("close")}function p(){this.destroy()}function _(e,t,n,r){e.writable&&(n=n||o.STATUS_CODES[t],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...r},e.write(`HTTP/1.1 ${t} ${o.STATUS_CODES[t]}\r\n`+Object.keys(r).map(e=>`${e}: ${r[e]}`).join("\r\n")+"\r\n\r\n"+n)),e.removeListener("error",p),e.destroy()}e.exports=class extends r{constructor(e,t){if(super(),null==(e={maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=o.createServer((e,t)=>{const n=o.STATUS_CODES[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,n,r)=>{this.handleUpgrade(t,n,r,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state)return e&&this.once("close",()=>{e(new Error("The server is not running"))}),void process.nextTick(d,this);if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(d,this);else{const e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{d(this)})}}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,r){t.on("error",p);const o=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"],i=+e.headers["sec-websocket-version"];if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!o||!h.test(o)||8!==i&&13!==i||!this.shouldHandle(e))return _(t,400);const u=e.headers["sec-websocket-protocol"];let l=new Set;if(void 0!==u)try{l=c.parse(u)}catch(e){return _(t,400)}const f=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&void 0!==f){const e=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=s.parse(f);t[a.extensionName]&&(e.accept(t[a.extensionName]),d[a.extensionName]=e)}catch(e){return _(t,400)}}if(this.options.verifyClient){const s={origin:e.headers[""+(8===i?"sec-websocket-origin":"origin")],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,(i,s,a,c)=>{if(!i)return _(t,s||401,a,c);this.completeUpgrade(d,o,l,e,t,n,r)});if(!this.options.verifyClient(s))return _(t,401)}this.completeUpgrade(d,o,l,e,t,n,r)}completeUpgrade(e,t,n,r,o,c,h){if(!o.readable||!o.writable)return o.destroy();if(o[f])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return _(o,503);const y=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+i("sha1").update(t+l).digest("base64")],v=new u(null);if(n.size){const e=this.options.handleProtocols?this.options.handleProtocols(n,r):n.values().next().value;e&&(y.push("Sec-WebSocket-Protocol: "+e),v._protocol=e)}if(e[a.extensionName]){const t=e[a.extensionName].params,n=s.format({[a.extensionName]:[t]});y.push("Sec-WebSocket-Extensions: "+n),v._extensions=e}this.emit("headers",y,r),o.write(y.concat("\r\n").join("\r\n")),o.removeListener("error",p),v.setSocket(o,c,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(v),v.on("close",()=>{this.clients.delete(v),this._shouldEmitClose&&!this.clients.size&&process.nextTick(d,this)})),h(v,r)}}},function(e,t,n){"use strict";const{tokenChars:r}=n(4);e.exports={parse:function(e){const t=new Set;let n=-1,o=-1,i=0;for(;i<e.length;i++){const s=e.charCodeAt(i);if(-1===o&&1===r[s])-1===n&&(n=i);else if(0===i||32!==s&&9!==s){if(44!==s)throw new SyntaxError("Unexpected character at index "+i);{if(-1===n)throw new SyntaxError("Unexpected character at index "+i);-1===o&&(o=i);const r=e.slice(n,o);if(t.has(r))throw new SyntaxError(`The "${r}" subprotocol is duplicated`);t.add(r),n=o=-1}}else-1===o&&-1!==n&&(o=i)}if(-1===n||-1!==o)throw new SyntaxError("Unexpected end of input");const s=e.slice(n,i);if(t.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return t.add(s),t}}},function(e,t,n){var r=n(1).Socket,o=n(33),i=n(35),s=n(37);function a(e){var t,n,o,i;if("string"==typeof(t=[].slice.call(arguments,1))[0]?n=t[0]:"object"==typeof t[0]?o=t[0]:"function"==typeof t[0]&&(i=t[0]),"object"==typeof t[1]?o=t[1]:"function"==typeof t[1]&&(i=t[1]),"function"==typeof t[2]&&(i=t[2]),!i)return s(a,arguments);o=o||{},n=n||o.host||"127.0.0.1";var c=o.timeout||400,u=!1,l=new r,f=null,h=null;l.on("connect",(function(){f="open",l.destroy()})),l.setTimeout(c),l.on("timeout",(function(){f="closed",h=new Error("Timeout ("+c+"ms) occurred waiting for "+n+":"+e+" to be available"),l.destroy()})),l.on("error",(function(e){"ECONNREFUSED"!==e.code?h=e:u=!0,f="closed"})),l.on("close",(function(e){i(h=e&&!u?h||e:null,f)})),l.connect(e,n)}function c(e){var t,n,r,u,l,f,h;if((t=[].slice.call(arguments,1))[0]instanceof Array?u=t[0]:i(t[0])&&(n=parseInt(t[0],10)),"function"==typeof t[1]?h=t[1]:"string"==typeof t[1]?l=t[1]:"object"==typeof t[1]?f=t[1]:i(t[1])&&(r=parseInt(t[1],10)),"string"==typeof t[2]?l=t[2]:"object"==typeof t[2]?f=t[2]:"function"==typeof t[2]&&(h=t[2]),"function"==typeof t[3]&&(h=t[3]),!h)return s(c,arguments);if(f=f||{},l=l||f.host,n&&r&&r<n){var d=n;n=r,r=d}r=r||65535;var p=!1,_=0,y=u?u[0]:n,v=function(){return p||_===(u?u.length:r-n+1)},m=function(t){a(y,l,f,(function(n,r){_++,r===e?(p=!0,t(n)):(y=u?u[_]:y+1,t(null))}))};o.until(v,m,(function(e){e?h(e,y):h(null,!!p&&y)}))}e.exports={findAPortInUse:function(){var e=[].slice.call(arguments);return e.unshift("open"),c.apply(null,e)},findAPortNotInUse:function(){var e=[].slice.call(arguments);return e.unshift("closed"),c.apply(null,e)},checkPortStatus:a}},function(e,t,n){(function(e){(function(t){"use strict";function n(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),o=0;o<n;o++)r[o]=e[t+o];return r}var r=function(e){var t=n(arguments,1);return function(){var r=n(arguments);return e.apply(null,t.concat(r))}},o=function(e){return function(){var t=n(arguments),r=t.pop();e.call(this,t,r)}};function i(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var s="function"==typeof setImmediate&&setImmediate,a="object"==typeof process&&"function"==typeof process.nextTick;function c(e){setTimeout(e,0)}function u(e){return function(t){var r=n(arguments,1);e((function(){t.apply(null,r)}))}}var l=u(s?setImmediate:a?process.nextTick:c);function f(e){return o((function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}i(r)&&"function"==typeof r.then?r.then((function(e){h(n,null,e)}),(function(e){h(n,e.message?e:new Error(e))})):n(null,r)}))}function h(e,t,n){try{e(t,n)}catch(e){l(d,e)}}function d(e){throw e}var p="function"==typeof Symbol;function _(e){return p&&"AsyncFunction"===e[Symbol.toStringTag]}function y(e){return _(e)?f(e):e}function v(e){return function(t){var r=n(arguments,1),i=o((function(n,r){var o=this;return e(t,(function(e,t){y(e).apply(o,n.concat(t))}),r)}));return r.length?i.apply(this,r):i}}var m="object"==typeof global&&global&&global.Object===Object&&global,g="object"==typeof self&&self&&self.Object===Object&&self,b=m||g||Function("return this")(),S=b.Symbol,w=Object.prototype,x=w.hasOwnProperty,E=w.toString,k=S?S.toStringTag:void 0,O=Object.prototype.toString,L=S?S.toStringTag:void 0;function T(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?function(e){var t=x.call(e,k),n=e[k];try{e[k]=void 0;var r=!0}catch(e){}var o=E.call(e);return r&&(t?e[k]=n:delete e[k]),o}(e):function(e){return O.call(e)}(e)}function C(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function N(e){return null!=e&&C(e.length)&&!function(e){if(!i(e))return!1;var t=T(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}(e)}var j={};function P(){}function A(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var R="function"==typeof Symbol&&Symbol.iterator;function I(e){return null!=e&&"object"==typeof e}function U(e){return I(e)&&"[object Arguments]"==T(e)}var B=Object.prototype,F=B.hasOwnProperty,D=B.propertyIsEnumerable,W=U(function(){return arguments}())?U:function(e){return I(e)&&F.call(e,"callee")&&!D.call(e,"callee")},M=Array.isArray,V="object"==typeof t&&t&&!t.nodeType&&t,G=V&&"object"==typeof e&&e&&!e.nodeType&&e,q=G&&G.exports===V?b.Buffer:void 0,$=(q?q.isBuffer:void 0)||function(){return!1},z=/^(?:0|[1-9]\d*)$/;function H(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&z.test(e))&&e>-1&&e%1==0&&e<t}var Y={};Y["[object Float32Array]"]=Y["[object Float64Array]"]=Y["[object Int8Array]"]=Y["[object Int16Array]"]=Y["[object Int32Array]"]=Y["[object Uint8Array]"]=Y["[object Uint8ClampedArray]"]=Y["[object Uint16Array]"]=Y["[object Uint32Array]"]=!0,Y["[object Arguments]"]=Y["[object Array]"]=Y["[object ArrayBuffer]"]=Y["[object Boolean]"]=Y["[object DataView]"]=Y["[object Date]"]=Y["[object Error]"]=Y["[object Function]"]=Y["[object Map]"]=Y["[object Number]"]=Y["[object Object]"]=Y["[object RegExp]"]=Y["[object Set]"]=Y["[object String]"]=Y["[object WeakMap]"]=!1;var X,K="object"==typeof t&&t&&!t.nodeType&&t,Z=K&&"object"==typeof e&&e&&!e.nodeType&&e,Q=Z&&Z.exports===K&&m.process,J=function(){try{var e=Z&&Z.require&&Z.require("util").types;return e||Q&&Q.binding&&Q.binding("util")}catch(e){}}(),ee=J&&J.isTypedArray,te=ee?(X=ee,function(e){return X(e)}):function(e){return I(e)&&C(e.length)&&!!Y[T(e)]},ne=Object.prototype.hasOwnProperty;function re(e,t){var n=M(e),r=!n&&W(e),o=!n&&!r&&$(e),i=!n&&!r&&!o&&te(e),s=n||r||o||i,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=a.length;for(var u in e)!t&&!ne.call(e,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||H(u,c))||a.push(u);return a}var oe=Object.prototype,ie=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),se=Object.prototype.hasOwnProperty;function ae(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||oe))return ie(e);var t,n,r=[];for(var o in Object(e))se.call(e,o)&&"constructor"!=o&&r.push(o);return r}function ce(e){return N(e)?re(e):ae(e)}function ue(e){if(N(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t,n,r,o,i=function(e){return R&&e[R]&&e[R]()}(e);return i?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(i):(n=ce(t=e),r=-1,o=n.length,function(){var e=n[++r];return r<o?{value:t[e],key:e}:null})}function le(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function fe(e){return function(t,n,r){if(r=A(r||P),e<=0||!t)return r(null);var o=ue(t),i=!1,s=0,a=!1;function c(e,t){if(s-=1,e)i=!0,r(e);else{if(t===j||i&&s<=0)return i=!0,r(null);a||u()}}function u(){for(a=!0;s<e&&!i;){var t=o();if(null===t)return i=!0,void(s<=0&&r(null));s+=1,n(t.value,t.key,le(c))}a=!1}u()}}function he(e,t,n,r){fe(t)(e,y(n),r)}function de(e,t){return function(n,r,o){return e(n,t,r,o)}}function pe(e,t,n){n=A(n||P);var r=0,o=0,i=e.length;function s(e,t){e?n(e):++o!==i&&t!==j||n(null)}for(0===i&&n(null);r<i;r++)t(e[r],r,le(s))}var _e=de(he,1/0),ye=function(e,t,n){(N(e)?pe:_e)(e,y(t),n)};function ve(e){return function(t,n,r){return e(ye,t,y(n),r)}}function me(e,t,n,r){r=r||P,t=t||[];var o=[],i=0,s=y(n);e(t,(function(e,t,n){var r=i++;s(e,(function(e,t){o[r]=t,n(e)}))}),(function(e){r(e,o)}))}var ge=ve(me),be=v(ge);function Se(e){return function(t,n,r,o){return e(fe(n),t,y(r),o)}}var we=Se(me),xe=de(we,1),Ee=v(xe);function ke(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var Oe,Le=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),s=i.length;s--;){var a=i[Oe?s:++r];if(!1===t(o[a],a,o))break}return e};function Te(e,t){return e&&Le(e,t,ce)}function Ce(e){return e!=e}function Ne(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,Ce,n)}var je=function(e,t,r){"function"==typeof t&&(r=t,t=null),r=A(r||P);var o=ce(e).length;if(!o)return r(null);t||(t=o);var i={},s=0,a=!1,c=Object.create(null),u=[],l=[],f={};function h(e,t){u.push((function(){!function(e,t){if(!a){var o=le((function(t,o){if(s--,arguments.length>2&&(o=n(arguments,1)),t){var u={};Te(i,(function(e,t){u[t]=e})),u[e]=o,a=!0,c=Object.create(null),r(t,u)}else i[e]=o,p(e)}));s++;var u=y(t[t.length-1]);t.length>1?u(i,o):u(o)}}(e,t)}))}function d(){if(0===u.length&&0===s)return r(null,i);for(;u.length&&s<t;)u.shift()()}function p(e){ke(c[e]||[],(function(e){e()})),d()}function _(t){var n=[];return Te(e,(function(e,r){M(e)&&Ne(e,t,0)>=0&&n.push(r)})),n}Te(e,(function(t,n){if(!M(t))return h(n,[t]),void l.push(n);var r=t.slice(0,t.length-1),o=r.length;if(0===o)return h(n,t),void l.push(n);f[n]=o,ke(r,(function(i){if(!e[i])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+i+"` in "+r.join(", "));var s,a,u;a=function(){0==--o&&h(n,t)},(u=c[s=i])||(u=c[s]=[]),u.push(a)}))})),function(){for(var e,t=0;l.length;)e=l.pop(),t++,ke(_(e),(function(e){0==--f[e]&&l.push(e)}));if(t!==o)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d()};function Pe(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Ae=S?S.prototype:void 0,Re=Ae?Ae.toString:void 0;function Ie(e){if("string"==typeof e)return e;if(M(e))return Pe(e,Ie)+"";if(function(e){return"symbol"==typeof e||I(e)&&"[object Symbol]"==T(e)}(e))return Re?Re.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ue(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}(e,t,n)}var Be=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Fe="[\\ud800-\\udfff]",De="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",We="\\ud83c[\\udffb-\\udfff]",Me="[^\\ud800-\\udfff]",Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",Ge="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="(?:"+De+"|"+We+")?",$e="[\\ufe0e\\ufe0f]?"+qe+"(?:\\u200d(?:"+[Me,Ve,Ge].join("|")+")[\\ufe0e\\ufe0f]?"+qe+")*",ze="(?:"+[Me+De+"?",De,Ve,Ge,Fe].join("|")+")",He=RegExp(We+"(?="+We+")|"+ze+$e,"g");function Ye(e){return function(e){return Be.test(e)}(e)?function(e){return e.match(He)||[]}(e):function(e){return e.split("")}(e)}var Xe=/^\s+|\s+$/g;function Ke(e,t,n){var r;if((e=null==(r=e)?"":Ie(r))&&(n||void 0===t))return e.replace(Xe,"");if(!e||!(t=Ie(t)))return e;var o=Ye(e),i=Ye(t);return Ue(o,function(e,t){for(var n=-1,r=e.length;++n<r&&Ne(t,e[n],0)>-1;);return n}(o,i),function(e,t){for(var n=e.length;n--&&Ne(t,e[n],0)>-1;);return n}(o,i)+1).join("")}var Ze=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Qe=/,/,Je=/(=.+)?(\s*)$/,et=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function tt(e,t){var n={};Te(e,(function(e,t){var r,o=_(e),i=!o&&1===e.length||o&&0===e.length;if(M(e))r=e.slice(0,-1),e=e[e.length-1],n[t]=r.concat(r.length>0?s:e);else if(i)n[t]=e;else{if(r=function(e){return e=(e=(e=(e=e.toString().replace(et,"")).match(Ze)[2].replace(" ",""))?e.split(Qe):[]).map((function(e){return Ke(e.replace(Je,""))}))}(e),0===e.length&&!o&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");o||r.pop(),n[t]=r.concat(s)}function s(t,n){var o=Pe(r,(function(e){return t[e]}));o.push(n),y(e).apply(null,o)}})),je(n,t)}function nt(){this.head=this.tail=null,this.length=0}function rt(e,t){e.length=1,e.head=e.tail=t}function ot(e,t,n){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=y(e),o=0,i=[],s=!1;function a(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(f.started=!0,M(e)||(e=[e]),0===e.length&&f.idle())return l((function(){f.drain()}));for(var r=0,o=e.length;r<o;r++){var i={data:e[r],callback:n||P};t?f._tasks.unshift(i):f._tasks.push(i)}s||(s=!0,l((function(){s=!1,f.process()})))}function c(e){return function(t){o-=1;for(var n=0,r=e.length;n<r;n++){var s=e[n],a=Ne(i,s,0);0===a?i.shift():a>0&&i.splice(a,1),s.callback.apply(s,arguments),null!=t&&f.error(t,s.data)}o<=f.concurrency-f.buffer&&f.unsaturated(),f.idle()&&f.drain(),f.process()}}var u=!1,f={_tasks:new nt,concurrency:t,payload:n,saturated:P,unsaturated:P,buffer:t/4,empty:P,drain:P,error:P,started:!1,paused:!1,push:function(e,t){a(e,!1,t)},kill:function(){f.drain=P,f._tasks.empty()},unshift:function(e,t){a(e,!0,t)},remove:function(e){f._tasks.remove(e)},process:function(){if(!u){for(u=!0;!f.paused&&o<f.concurrency&&f._tasks.length;){var e=[],t=[],n=f._tasks.length;f.payload&&(n=Math.min(n,f.payload));for(var s=0;s<n;s++){var a=f._tasks.shift();e.push(a),i.push(a),t.push(a.data)}o+=1,0===f._tasks.length&&f.empty(),o===f.concurrency&&f.saturated();var l=le(c(e));r(t,l)}u=!1}},length:function(){return f._tasks.length},running:function(){return o},workersList:function(){return i},idle:function(){return f._tasks.length+o===0},pause:function(){f.paused=!0},resume:function(){!1!==f.paused&&(f.paused=!1,l(f.process))}};return f}function it(e,t){return ot(e,1,t)}nt.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},nt.prototype.empty=function(){for(;this.head;)this.shift();return this},nt.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},nt.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},nt.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):rt(this,e)},nt.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):rt(this,e)},nt.prototype.shift=function(){return this.head&&this.removeLink(this.head)},nt.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},nt.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},nt.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var st=de(he,1);function at(e,t,n,r){r=A(r||P);var o=y(n);st(e,(function(e,n,r){o(t,e,(function(e,n){t=n,r(e)}))}),(function(e){r(e,t)}))}function ct(){var e=Pe(arguments,y);return function(){var t=n(arguments),r=this,o=t[t.length-1];"function"==typeof o?t.pop():o=P,at(e,t,(function(e,t,o){t.apply(r,e.concat((function(e){var t=n(arguments,1);o(e,t)})))}),(function(e,t){o.apply(r,[e].concat(t))}))}}var ut=function(){return ct.apply(null,n(arguments).reverse())},lt=Array.prototype.concat,ft=function(e,t,r,o){o=o||P;var i=y(r);we(e,t,(function(e,t){i(e,(function(e){return e?t(e):t(null,n(arguments,1))}))}),(function(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&(n=lt.apply(n,t[r]));return o(e,n)}))},ht=de(ft,1/0),dt=de(ft,1),pt=function(){var e=n(arguments),t=[null].concat(e);return function(){var e=arguments[arguments.length-1];return e.apply(this,t)}};function _t(e){return e}function yt(e,t){return function(n,r,o,i){i=i||P;var s,a=!1;n(r,(function(n,r,i){o(n,(function(r,o){r?i(r):e(o)&&!s?(a=!0,s=t(!0,n),i(null,j)):i()}))}),(function(e){e?i(e):i(null,a?s:t(!1))}))}}function vt(e,t){return t}var mt=ve(yt(_t,vt)),gt=Se(yt(_t,vt)),bt=de(gt,1);function St(e){return function(t){var r=n(arguments,1);r.push((function(t){var r=n(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&ke(r,(function(t){console[e](t)})))})),y(t).apply(null,r)}}var wt=St("dir");function xt(e,t,r){r=le(r||P);var o=y(e),i=y(t);function s(e){if(e)return r(e);var t=n(arguments,1);t.push(a),i.apply(this,t)}function a(e,t){return e?r(e):t?void o(s):r(null)}a(null,!0)}function Et(e,t,r){r=le(r||P);var o=y(e),i=function(e){if(e)return r(e);var s=n(arguments,1);if(t.apply(this,s))return o(i);r.apply(null,[null].concat(s))};o(i)}function kt(e,t,n){Et(e,(function(){return!t.apply(this,arguments)}),n)}function Ot(e,t,n){n=le(n||P);var r=y(t),o=y(e);function i(e){if(e)return n(e);o(s)}function s(e,t){return e?n(e):t?void r(i):n(null)}o(s)}function Lt(e){return function(t,n,r){return e(t,r)}}function Tt(e,t,n){ye(e,Lt(y(t)),n)}function Ct(e,t,n,r){fe(t)(e,Lt(y(n)),r)}var Nt=de(Ct,1);function jt(e){return _(e)?e:o((function(t,n){var r=!0;t.push((function(){var e=arguments;r?l((function(){n.apply(null,e)})):n.apply(null,e)})),e.apply(this,t),r=!1}))}function Pt(e){return!e}var At=ve(yt(Pt,Pt)),Rt=Se(yt(Pt,Pt)),It=de(Rt,1);function Ut(e){return function(t){return null==t?void 0:t[e]}}function Bt(e,t,n,r){var o=new Array(t.length);e(t,(function(e,t,r){n(e,(function(e,n){o[t]=!!n,r(e)}))}),(function(e){if(e)return r(e);for(var n=[],i=0;i<t.length;i++)o[i]&&n.push(t[i]);r(null,n)}))}function Ft(e,t,n,r){var o=[];e(t,(function(e,t,r){n(e,(function(n,i){n?r(n):(i&&o.push({index:t,value:e}),r())}))}),(function(e){e?r(e):r(null,Pe(o.sort((function(e,t){return e.index-t.index})),Ut("value")))}))}function Dt(e,t,n,r){(N(t)?Bt:Ft)(e,t,y(n),r||P)}var Wt=ve(Dt),Mt=Se(Dt),Vt=de(Mt,1);function Gt(e,t){var n=le(t||P),r=y(jt(e));!function e(t){if(t)return n(t);r(e)}()}var qt=function(e,t,n,r){r=r||P;var o=y(n);we(e,t,(function(e,t){o(e,(function(n,r){return n?t(n):t(null,{key:r,val:e})}))}),(function(e,t){for(var n={},o=Object.prototype.hasOwnProperty,i=0;i<t.length;i++)if(t[i]){var s=t[i].key,a=t[i].val;o.call(n,s)?n[s].push(a):n[s]=[a]}return r(e,n)}))},$t=de(qt,1/0),zt=de(qt,1),Ht=St("log");function Yt(e,t,n,r){r=A(r||P);var o={},i=y(n);he(e,t,(function(e,t,n){i(e,t,(function(e,r){if(e)return n(e);o[t]=r,n()}))}),(function(e){r(e,o)}))}var Xt=de(Yt,1/0),Kt=de(Yt,1);function Zt(e,t){return t in e}function Qt(e,t){var r=Object.create(null),i=Object.create(null);t=t||_t;var s=y(e),a=o((function(e,o){var a=t.apply(null,e);Zt(r,a)?l((function(){o.apply(null,r[a])})):Zt(i,a)?i[a].push(o):(i[a]=[o],s.apply(null,e.concat((function(){var e=n(arguments);r[a]=e;var t=i[a];delete i[a];for(var o=0,s=t.length;o<s;o++)t[o].apply(null,e)}))))}));return a.memo=r,a.unmemoized=e,a}var Jt=u(a?process.nextTick:s?setImmediate:c);function en(e,t,r){r=r||P;var o=N(t)?[]:{};e(t,(function(e,t,r){y(e)((function(e,i){arguments.length>2&&(i=n(arguments,1)),o[t]=i,r(e)}))}),(function(e){r(e,o)}))}function tn(e,t){en(ye,e,t)}function nn(e,t,n){en(fe(t),e,n)}var rn=function(e,t){var n=y(e);return ot((function(e,t){n(e[0],t)}),t,1)},on=function(e,t){var n=rn(e,t);return n.push=function(e,t,r){if(null==r&&(r=P),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,M(e)||(e=[e]),0===e.length)return l((function(){n.drain()}));t=t||0;for(var o=n._tasks.head;o&&t>=o.priority;)o=o.next;for(var i=0,s=e.length;i<s;i++){var a={data:e[i],priority:t,callback:r};o?n._tasks.insertBefore(o,a):n._tasks.push(a)}l(n.process)},delete n.unshift,n};function sn(e,t){if(t=A(t||P),!M(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)y(e[n])(t)}function an(e,t,r,o){at(n(e).reverse(),t,r,o)}function cn(e){var t=y(e);return o((function(e,r){return e.push((function(e,t){var o;e?r(null,{error:e}):(o=arguments.length<=2?t:n(arguments,1),r(null,{value:o}))})),t.apply(this,e)}))}function un(e){var t;return M(e)?t=Pe(e,cn):(t={},Te(e,(function(e,n){t[n]=cn.call(this,e)}))),t}function ln(e,t,n,r){Dt(e,t,(function(e,t){n(e,(function(e,n){t(e,!n)}))}),r)}var fn=ve(ln),hn=Se(ln),dn=de(hn,1);function pn(e){return function(){return e}}function _n(e,t,n){var r=5,o=0,i={times:r,intervalFunc:pn(o)};function s(e,t){if("object"==typeof t)e.times=+t.times||r,e.intervalFunc="function"==typeof t.interval?t.interval:pn(+t.interval||o),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||r}}if(arguments.length<3&&"function"==typeof e?(n=t||P,t=e):(s(i,e),n=n||P),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var a=y(t),c=1;function u(){a((function(e){e&&c++<i.times&&("function"!=typeof i.errorFilter||i.errorFilter(e))?setTimeout(u,i.intervalFunc(c)):n.apply(null,arguments)}))}u()}var yn=function(e,t){t||(t=e,e=null);var n=y(t);return o((function(t,r){function o(e){n.apply(null,t.concat(e))}e?_n(e,o,r):_n(o,r)}))};function vn(e,t){en(st,e,t)}var mn=ve(yt(Boolean,_t)),gn=Se(yt(Boolean,_t)),bn=de(gn,1);function Sn(e,t,n){var r=y(t);function o(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}ge(e,(function(e,t){r(e,(function(n,r){if(n)return t(n);t(null,{value:e,criteria:r})}))}),(function(e,t){if(e)return n(e);n(null,Pe(t.sort(o),Ut("value")))}))}function wn(e,t,n){var r=y(e);return o((function(o,i){var s,a=!1;o.push((function(){a||(i.apply(null,arguments),clearTimeout(s))})),s=setTimeout((function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),a=!0,i(r)}),t),r.apply(null,o)}))}var xn=Math.ceil,En=Math.max;function kn(e,t,n,r){var o=y(n);we(function(e,t,n,r){for(var o=-1,i=En(xn((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}(0,e,1),t,o,r)}var On=de(kn,1/0),Ln=de(kn,1);function Tn(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=M(e)?[]:{}),r=A(r||P);var o=y(n);ye(e,(function(e,n,r){o(t,e,n,r)}),(function(e){r(e,t)}))}function Cn(e,t){var r,o=null;t=t||P,Nt(e,(function(e,t){y(e)((function(e,i){r=arguments.length>2?n(arguments,1):i,o=e,t(!e)}))}),(function(){t(o,r)}))}function Nn(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function jn(e,t,r){r=le(r||P);var o=y(t);if(!e())return r(null);var i=function(t){if(t)return r(t);if(e())return o(i);var s=n(arguments,1);r.apply(null,[null].concat(s))};o(i)}function Pn(e,t,n){jn((function(){return!e.apply(this,arguments)}),t,n)}var An=function(e,t){if(t=A(t||P),!M(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function o(t){var n=y(e[r++]);t.push(le(i)),n.apply(null,t)}function i(i){if(i||r===e.length)return t.apply(null,arguments);o(n(arguments,1))}o([])},Rn={apply:r,applyEach:be,applyEachSeries:Ee,asyncify:f,auto:je,autoInject:tt,cargo:it,compose:ut,concat:ht,concatLimit:ft,concatSeries:dt,constant:pt,detect:mt,detectLimit:gt,detectSeries:bt,dir:wt,doDuring:xt,doUntil:kt,doWhilst:Et,during:Ot,each:Tt,eachLimit:Ct,eachOf:ye,eachOfLimit:he,eachOfSeries:st,eachSeries:Nt,ensureAsync:jt,every:At,everyLimit:Rt,everySeries:It,filter:Wt,filterLimit:Mt,filterSeries:Vt,forever:Gt,groupBy:$t,groupByLimit:qt,groupBySeries:zt,log:Ht,map:ge,mapLimit:we,mapSeries:xe,mapValues:Xt,mapValuesLimit:Yt,mapValuesSeries:Kt,memoize:Qt,nextTick:Jt,parallel:tn,parallelLimit:nn,priorityQueue:on,queue:rn,race:sn,reduce:at,reduceRight:an,reflect:cn,reflectAll:un,reject:fn,rejectLimit:hn,rejectSeries:dn,retry:_n,retryable:yn,seq:ct,series:vn,setImmediate:l,some:mn,someLimit:gn,someSeries:bn,sortBy:Sn,timeout:wn,times:On,timesLimit:kn,timesSeries:Ln,transform:Tn,tryEach:Cn,unmemoize:Nn,until:Pn,waterfall:An,whilst:jn,all:At,allLimit:Rt,allSeries:It,any:mn,anyLimit:gn,anySeries:bn,find:mt,findLimit:gt,findSeries:bt,forEach:Tt,forEachSeries:Nt,forEachLimit:Ct,forEachOf:ye,forEachOfSeries:st,forEachOfLimit:he,inject:at,foldl:at,foldr:an,select:Wt,selectLimit:Mt,selectSeries:Vt,wrapSync:f};t.default=Rn,t.apply=r,t.applyEach=be,t.applyEachSeries=Ee,t.asyncify=f,t.auto=je,t.autoInject=tt,t.cargo=it,t.compose=ut,t.concat=ht,t.concatLimit=ft,t.concatSeries=dt,t.constant=pt,t.detect=mt,t.detectLimit=gt,t.detectSeries=bt,t.dir=wt,t.doDuring=xt,t.doUntil=kt,t.doWhilst=Et,t.during=Ot,t.each=Tt,t.eachLimit=Ct,t.eachOf=ye,t.eachOfLimit=he,t.eachOfSeries=st,t.eachSeries=Nt,t.ensureAsync=jt,t.every=At,t.everyLimit=Rt,t.everySeries=It,t.filter=Wt,t.filterLimit=Mt,t.filterSeries=Vt,t.forever=Gt,t.groupBy=$t,t.groupByLimit=qt,t.groupBySeries=zt,t.log=Ht,t.map=ge,t.mapLimit=we,t.mapSeries=xe,t.mapValues=Xt,t.mapValuesLimit=Yt,t.mapValuesSeries=Kt,t.memoize=Qt,t.nextTick=Jt,t.parallel=tn,t.parallelLimit=nn,t.priorityQueue=on,t.queue=rn,t.race=sn,t.reduce=at,t.reduceRight=an,t.reflect=cn,t.reflectAll=un,t.reject=fn,t.rejectLimit=hn,t.rejectSeries=dn,t.retry=_n,t.retryable=yn,t.seq=ct,t.series=vn,t.setImmediate=l,t.some=mn,t.someLimit=gn,t.someSeries=bn,t.sortBy=Sn,t.timeout=wn,t.times=On,t.timesLimit=kn,t.timesSeries=Ln,t.transform=Tn,t.tryEach=Cn,t.unmemoize=Nn,t.until=Pn,t.waterfall=An,t.whilst=jn,t.all=At,t.allLimit=Rt,t.allSeries=It,t.any=mn,t.anyLimit=gn,t.anySeries=bn,t.find=mt,t.findLimit=gt,t.findSeries=bt,t.forEach=Tt,t.forEachSeries=Nt,t.forEachLimit=Ct,t.forEachOf=ye,t.forEachOfSeries=st,t.forEachOfLimit=he,t.inject=at,t.foldl=at,t.foldr=an,t.select=Wt,t.selectLimit=Mt,t.selectSeries=Vt,t.wrapSync=f,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(this,n(34)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(36);e.exports=function(e){if(null==e||!1===e)return!1;if("function"==typeof e||e instanceof Array)return!1;var t=e.length;if(!t)return r(e);var n=0;if("-"===e.charAt(0)){if(1===t)return!1;n=1}for(var o=!1,i=!1;n<t;n++){var s=e.charAt(n);if(s<="/"||s>=":")if("e"===s){if(o)return!1;o=!0}else{if("."!==s)return!1;if(i)return!1;i=!0}}return!0}},function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global,r="object"==typeof self&&self&&self.Object===Object&&self,o=(n||r||Function("return this")()).isFinite;e.exports=function(e){return"number"==typeof e&&o(e)}},function(e,t){e.exports=function(e,t){if("undefined"==typeof Promise)throw new Error("Please run in a Promise supported environment or provide a callback");return new Promise((function(n,r){t=[].slice.call(t).concat([function(e,t){e||!1===t?r(e||new Error("No open port found")):n(t)}]),e.apply(null,t)}))}}]));